---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.12.1
  name: tinkerbell.tinkerbell.org
spec:
  group: tinkerbell.org
  names:
    categories:
    - tinkerbell
    kind: Tinkerbell
    listKind: TinkerbellList
    plural: tinkerbell
    shortNames:
    - tb
    singular: tinkerbell
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Tinkerbell represents the tinkerbell stack that is being deployed
          in the kubernetes where the operator is deployed. Tinkerbell operator watches
          for different resources such as deployment, services, serviceAccounts, etc.
          One of those CRs is Tinkerbell which the operator will install the tink-stack
          based on its specs. Once the CR is deleted, the operator will delete all
          tinkerbell resources.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec describes the desired tinkerbell stack state.
            properties:
              boots:
                description: Boots contains all the information and spec about boots.
                properties:
                  dhcpAddress:
                    description: DHCPAddressListener set the ip and port to listen
                      on for DHCP.
                    type: string
                  httpAddress:
                    description: HTTPAddress is the address to listen on for the serving
                      iPXE binaries and files via HTTP.
                    type: string
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      repository:
                        description: Repository is used to set the image repository
                          for tinkerbell services.
                        type: string
                      tag:
                        description: Tag is used to set the image tag for tinkerbell
                          services.
                        type: string
                    type: object
                  logLevel:
                    description: LogLevel sets the debug level for boots.
                    type: string
                  mirrorBaseURL:
                    description: MirrorBaseURL is the URL for downloading an in-memory
                      os such as Hook.
                    type: string
                  osieURL:
                    description: OSIEURL override the URL where OSIE/Hook images are
                      located
                    type: string
                  publicIP:
                    description: PublicIP is the IP that netboot clients and/or DHCP
                      relay's will use to reach Boots
                    type: string
                  publicSyslogFQDN:
                    description: PublicSyslogFQDN is the IP that syslog clients will
                      use to send messages
                    type: string
                  syslogAddress:
                    description: SyslogAddress is the IP and port that syslog clients
                      will use to send messages
                    type: string
                  tinkerbellGRPCAuthority:
                    description: TinkerbellGRPCAuthority IP and port to listen on
                      for syslog messages.
                    type: string
                  tinkerbellTLS:
                    description: TinkerbellTLS sets if the boots should run with TLS
                      or not.
                    type: boolean
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - dhcpAddress
                - httpAddress
                - image
                - logLevel
                - mirrorBaseURL
                - osieURL
                - publicIP
                - publicSyslogFQDN
                - syslogAddress
                - tinkerbellGRPCAuthority
                - tinkerbellTLS
                - trustedProxies
                type: object
              clusterDNS:
                description: ClusterDNS is the IP address of the cluster DNS resolver.
                type: string
              hegel:
                description: Hegel contains all the information and spec about boots.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      repository:
                        description: Repository is used to set the image repository
                          for tinkerbell services.
                        type: string
                      tag:
                        description: Tag is used to set the image tag for tinkerbell
                          services.
                        type: string
                    type: object
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - image
                - trustedProxies
                type: object
              imagePullSecret:
                description: ImagePullSecret the secret name containing the docker
                  auth config which should exist in the same namespace where the operator
                  is deployed(typically tinkerbell)
                items:
                  type: string
                type: array
              registry:
                description: Registry is the registry to use for all images. If this
                  field is set, all tink service deployment images will be prefixed
                  with this value. For example if the value here was set to docker.io,
                  then boots image will be docker.io/tinkerbell/boots.
                type: string
              rufio:
                description: Rufio contains all the information and spec about rufio.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      repository:
                        description: Repository is used to set the image repository
                          for tinkerbell services.
                        type: string
                      tag:
                        description: Tag is used to set the image tag for tinkerbell
                          services.
                        type: string
                    type: object
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - image
                - trustedProxies
                type: object
              tinkController:
                description: TinkController contains all the information and spec
                  about tink controller.
                properties:
                  repository:
                    description: Repository is used to set the image repository for
                      tinkerbell services.
                    type: string
                  tag:
                    description: Tag is used to set the image tag for tinkerbell services.
                    type: string
                type: object
              tinkServer:
                description: TinkServer contains all the information and spec about
                  tink server.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      repository:
                        description: Repository is used to set the image repository
                          for tinkerbell services.
                        type: string
                      tag:
                        description: Tag is used to set the image tag for tinkerbell
                          services.
                        type: string
                    type: object
                  tinkerbellTLS:
                    description: TinkerbellTLS sets if the tink server should run
                      with TLS or not.
                    type: boolean
                required:
                - image
                - tinkerbellTLS
                type: object
              tinkerbellVersion:
                description: TinkerbellVersion is the Tinkerbell CRD version.
                type: string
            required:
            - boots
            - clusterDNS
            - hegel
            - imagePullSecret
            - registry
            - rufio
            - tinkController
            - tinkServer
            - tinkerbellVersion
            type: object
        type: object
    served: true
    storage: true
