---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.12.1
  name: tinkerbell.tinkerbell.org
spec:
  group: tinkerbell.org
  names:
    categories:
    - tinkerbell
    kind: Tinkerbell
    listKind: TinkerbellList
    plural: tinkerbell
    shortNames:
    - tb
    singular: tinkerbell
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Tinkerbell represents the tinkerbell stack that is being deployed
          in the kubernetes where the operator is deployed. Tinkerbell operator watches
          for different resources such as deployment, services, serviceAccounts, etc.
          One of those CRs is Tinkerbell which the operator will install the tink-stack
          based on its specs. Once the CR is deleted, the operator will delete all
          tinkerbell resources.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec describes the desired tinkerbell stack state.
            properties:
              boots:
                description: Boots contains all the information and spec about boots.
                properties:
                  dhcpAddress:
                    description: DHCPAddress set the ip and port to listen on for
                      DHCP.
                    type: string
                  facilityCode:
                    description: FacilityCode represents the facility in use.
                    type: string
                  httpBind:
                    description: HTTPBind is the port to listen on for the serving
                      iPXE binaries and files via HTTP.
                    type: integer
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      imageRepository:
                        description: ImageRepository is used to set the BootsSpec
                          image repository.
                        type: string
                      imageTag:
                        description: ImageTag is used to set the BootsSpec image tag.
                        type: string
                    type: object
                  logLevel:
                    description: LogLevel sets the debug level for boots.
                    type: string
                  mirrorBaseURL:
                    description: MirrorBaseURL the URL from where the "OSIE" or Hook
                      kernel(s) and initrd(s) will be downloaded by netboot clients
                    type: string
                  osiePathOverride:
                    description: OSIEPathOverride override the URL where OSIE/Hook
                      images are located
                    type: string
                  publicIP:
                    description: PublicIP is the IP that netboot clients and/or DHCP
                      relay's will use to reach Boots
                    type: string
                  publicSyslogFQDN:
                    description: PublicSyslogFQDN is the IP that syslog clients will
                      use to send messages
                    type: string
                  syslogBind:
                    description: SyslogBind is the port that syslog clients will use
                      to send messages
                    type: integer
                  tinkerbellGRPCAuthority:
                    description: TinkerbellGRPCAuthority is the IP:Port that a Tink
                      worker will use for communicated with the Tink server
                    type: string
                  tinkerbellTLS:
                    description: TinkerbellTLS sets if the boots should run with TLS
                      or not.
                    type: boolean
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - dhcpAddress
                - facilityCode
                - httpBind
                - image
                - logLevel
                - mirrorBaseURL
                - osiePathOverride
                - publicIP
                - publicSyslogFQDN
                - syslogBind
                - tinkerbellGRPCAuthority
                - tinkerbellTLS
                - trustedProxies
                type: object
              clusterDNS:
                description: ClusterDNS is the ip address of the cluster dns resolver.
                type: string
              dockerPullComfig:
                description: DockerPullConfig the secret name containing the docker
                  auth config which should exist in the same namespace where the operator
                  is deployed(typically tinkerbell)
                type: string
              hegel:
                description: Hegel contains all the information and spec about boots.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      imageRepository:
                        description: ImageRepository is used to set the BootsSpec
                          image repository.
                        type: string
                      imageTag:
                        description: ImageTag is used to set the BootsSpec image tag.
                        type: string
                    type: object
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - image
                - trustedProxies
                type: object
              overwriteRegistry:
                description: OverwriteRegistry is the registry to use for all images.
                  If this field is set, all tink service deployment images will be
                  prefixed with this value. For example if the value here was set
                  to docker.io, then boots image will be docker.io/tinkerbell/boots.
                type: string
              rufio:
                description: Rufio contains all the information and spec about rufio.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      imageRepository:
                        description: ImageRepository is used to set the BootsSpec
                          image repository.
                        type: string
                      imageTag:
                        description: ImageTag is used to set the BootsSpec image tag.
                        type: string
                    type: object
                  trustedProxies:
                    description: TrustedProxies comma separated allowed CIDRs subnets
                      to be used as trusted proxies
                    type: string
                required:
                - image
                - trustedProxies
                type: object
              tink:
                description: Tink contains all the information and spec about tink.
                properties:
                  image:
                    description: Image specifies the details of a tinkerbell services
                      images
                    properties:
                      imageRepository:
                        description: ImageRepository is used to set the BootsSpec
                          image repository.
                        type: string
                      imageTag:
                        description: ImageTag is used to set the BootsSpec image tag.
                        type: string
                    type: object
                  tinkerbellTLS:
                    description: TinkerbellTLS sets if the tink server should run
                      with TLS or not.
                    type: boolean
                required:
                - image
                - tinkerbellTLS
                type: object
              tinkerbellVersion:
                description: TinkerbellVersion is the tinkerbell crd version.
                type: string
            required:
            - boots
            - clusterDNS
            - dockerPullComfig
            - hegel
            - overwriteRegistry
            - rufio
            - tink
            - tinkerbellVersion
            type: object
        type: object
    served: true
    storage: true
